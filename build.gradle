// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
  ext.versions = [
      kotlin               : '1.6.20',
      appCompat            : '1.3.1',
      coreKtx              : '1.7.0',
      constraintLayout     : '2.1.1',
      material             : '1.4.0',
      junit                : '4.13.2',
      extJunit             : '1.1.3',
      espressoCore         : '3.4.0',
      navigation           : '2.4.2',
      leakCanary           : '2.7',
      room                 : '2.3.0',
      coroutines           : '1.6.1',
      truth                : '1.1.3',
      dagger               : '2.41',
      daggerWork           : '1.0.0',
      lifecycle            : '2.3.1',
      arch                 : '2.1.0',
      mockito              : '2.2.0',
      mobius               : '1.5.8',
      circleImageView      : '3.1.0',
      preference           : '1.1.1',
      insetter             : '0.3.1',
      coreLibraryDesugaring: '1.1.1',
      betterLinkMovement   : '2.2.0',
      workManager          : '2.7.0',
      seekableAVD          : '1.0.0-alpha02',
      dataStore            : '1.0.0',
      javaLite             : '3.19.2',
      flowBinding          : '1.0.0',
      activity             : '1.6.0-alpha03',
      fragment             : '1.3.6',
      compose              : '1.2.0-alpha08'
  ]
  repositories {
    google()
    mavenCentral()
    maven { url "https://jitpack.io" }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:7.0.3'
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$versions.kotlin"
    classpath "androidx.navigation:navigation-safe-args-gradle-plugin:$versions.navigation"
    classpath "com.google.dagger:hilt-android-gradle-plugin:$versions.dagger"
  }
}

allprojects {
  repositories {
    google()
    mavenCentral()
    maven { url "https://jitpack.io" }
  }
}

task clean(type: Delete) {
  delete rootProject.buildDir
}

ext {
  // source: github.com/android/plaid
  // query git for the commit count to automate versioning.
  gitCommitCount = 100 +
      Integer.parseInt('git rev-list --count HEAD'.execute([], project.rootDir).text.trim())
}
